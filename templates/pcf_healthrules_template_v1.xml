<health-rules controller-version="004-003-005-007">
    <health-rule>
        <name>Diego Cell Memory Capacity</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>35.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>MULTIPLY</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>DIVIDE</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RemainingMemoryCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RemainingMemoryCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>TotalMemoryCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityTotalMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityTotalMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>TotalMemoryCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityTotalMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityTotalMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>TotalMemoryCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityTotalMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityTotalMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>100</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Cell Disk Capacity</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>35.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingDiskCellZero}+{RemainingDiskCellOne}+{RemainingDiskCellTwo})/({TotalDiskCellZero}+{TotalDiskCellOne}+{TotalDiskCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>MULTIPLY</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>DIVIDE</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RemainingDiskCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RemainingDiskCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingDiskCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>TotalDiskCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityTotalDisk</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityTotalDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>TotalDiskCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityTotalDisk</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityTotalDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>TotalDiskCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityTotalDisk</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityTotalDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>100</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Cell Container Capacity</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>35.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingContainerCellZero}+{RemainingContainerCellOne}+{RemainingContainerCellTwo})/({TotalContainerCellZero}+{TotalContainerCellOne}+{TotalContainerCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>MULTIPLY</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>DIVIDE</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RemainingContainerCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingContainers</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingContainers</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RemainingContainerCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingContainers</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingContainers</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingContainerCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingContainers</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingContainers</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>TotalContainerCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityTotalContainers</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityTotalContainers</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>TotalContainerCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityTotalContainers</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityTotalContainers</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>TotalContainerCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityTotalContainers</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityTotalContainers</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>100</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Router VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>DFS Backed Blobstore Capacity</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>75.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Auctioneer Time to Fetch Cell State</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>5.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{AuctioneerFetchStatesDuration}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>AuctioneerFetchStatesDuration</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_brain|${DIEGO_BRAIN_GUID}|${DIEGO_BRAIN_IP}|opentsdb.nozzle.auctioneer.AuctioneerFetchStatesDuration</logical-metric-name>
                            <metric-name>Custom Metrics|CF|cf|diego_brain|${DIEGO_BRAIN_GUID}|${DIEGO_BRAIN_IP}|opentsdb.nozzle.auctioneer.AuctioneerFetchStatesDuration</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>2.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{AuctioneerFetchStatesDuration}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>AuctioneerFetchStatesDuration</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_brain|${DIEGO_BRAIN_GUID}|${DIEGO_BRAIN_IP}|opentsdb.nozzle.auctioneer.AuctioneerFetchStatesDuration</logical-metric-name>
                            <metric-name>Custom Metrics|CF|cf|diego_brain|${DIEGO_BRAIN_GUID}|${DIEGO_BRAIN_IP}|opentsdb.nozzle.auctioneer.AuctioneerFetchStatesDuration</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Cell VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>1.0</condition-value>
                    <operator>LESS_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.healthy</logical-metric-name>
                            <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.healthy</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>1.0</condition-value>
                        <operator>LESS_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.healthy</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.healthy</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>1.0</condition-value>
                        <operator>LESS_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.healthy</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.healthy</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Cell VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>90.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.disk.system.percent</logical-metric-name>
                            <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.disk.system.percent</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>90.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.disk.system.percent</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.disk.system.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>90.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.disk.system.percent</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.disk.system.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>80.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.disk.system.percent</logical-metric-name>
                            <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.disk.system.percent</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>80.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.disk.system.percent</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.disk.system.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>80.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.disk.system.percent</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.disk.system.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Cell VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>90.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                            <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.disk.ephemeral.percent</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>90.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.disk.ephemeral.percent</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.disk.ephemeral.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>90.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.disk.ephemeral.percent</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.disk.ephemeral.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>80.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                            <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.disk.ephemeral.percent</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>80.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.disk.ephemeral.percent</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.disk.ephemeral.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>80.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.disk.ephemeral.percent</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.disk.ephemeral.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Cell VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>95.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.cpu.user</logical-metric-name>
                            <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.cpu.user</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>95.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.cpu.user</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.cpu.user</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>95.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.cpu.user</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.cpu.user</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>85.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.cpu.user</logical-metric-name>
                            <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.cpu.user</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>85.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.cpu.user</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.cpu.user</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>85.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.cpu.user</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.cpu.user</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Cell VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>90.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.mem.percent</logical-metric-name>
                            <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.mem.percent</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>90.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.mem.percent</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.mem.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>90.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.mem.percent</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.mem.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>80.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.mem.percent</logical-metric-name>
                            <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|0|undefined|system.mem.percent</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>80.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.mem.percent</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|1|undefined|system.mem.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>80.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.mem.percent</logical-metric-name>
                                <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_cell|2|undefined|system.mem.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>NFS Server VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>NFS Server VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>NFS Server VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>NFS Server VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>NFS Server VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>NFS Server VM Persistent Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Router VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Router VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Router VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Router VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|router|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Nats VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Nats VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Nats VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Nats VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Nats VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nats|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql Proxy VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql Proxy VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql Proxy VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql Proxy VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql Proxy VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql Monitor VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql Monitor VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql Monitor VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql Monitor VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql Monitor VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql_proxy|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql VM Persistent Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>MySql VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|mysql|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Loggregator Trafficcontroller VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Loggregator Trafficcontroller VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Loggregator Trafficcontroller VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Loggregator Trafficcontroller VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Loggregator Trafficcontroller VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|loggregator_trafficcontroller|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>HA Proxy VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>HA Proxy VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>HA Proxy VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>HA Proxy VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>HA Proxy VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|ha_proxy|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Clock Global VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Clock Global VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Clock Global VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Clock Global VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Clock Global VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|clock_global|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Cloud Controller VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Cloud Controller VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Cloud Controller VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Cloud Controller VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Cloud Controller VM Persistent Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Cloud Controller VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Cloud Controller Worker VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Cloud Controller Worker VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Cloud Controller Worker VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Cloud Controller Worker VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Cloud Controller Worker VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|cloud_controller_worker|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Consul Server VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Consul Server VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Consul Server VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Consul Server VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|nfs_server|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Consul Server VM Persistent Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Consul Server VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|consul_server|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Brain VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Brain VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Brain VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Brain VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Brain VM Persistent Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Brain VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Database VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Database VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_brain|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Database VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Database VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Database VM Persistent Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Diego Database VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|diego_database|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Doppler VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Doppler VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Doppler VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Doppler VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Doppler VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|doppler|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Etcd Server VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Etcd Server VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Etcd Server VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Etcd Server VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Etcd Server VM Persistent Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Etcd Server VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|etcd_server|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Uaa VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.cpu.user</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Uaa VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Uaa VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.healthy</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Uaa VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.mem.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Uaa VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.disk.system.percent</logical-metric-name>
                        <metric-name>Custom Metrics|CF|${RESOURCES_PARENT_FOLDER}|uaa|0|undefined|system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Route Emitter Time to Sync</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>20</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>10.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{RouteEmitterSyncDuration}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>RouteEmitterSyncDuration</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_brain|${DIEGO_BRAIN_GUID}|${DIEGO_BRAIN_IP}|opentsdb.nozzle.route_emitter.RouteEmitterSyncDuration</logical-metric-name>
                            <metric-name>Custom Metrics|CF|cf|diego_brain|${DIEGO_BRAIN_GUID}|${DIEGO_BRAIN_IP}|opentsdb.nozzle.route_emitter.RouteEmitterSyncDuration</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>5.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{RouteEmitterSyncDuration}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>RouteEmitterSyncDuration</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_brain|${DIEGO_BRAIN_GUID}|${DIEGO_BRAIN_IP}|opentsdb.nozzle.route_emitter.RouteEmitterSyncDuration</logical-metric-name>
                            <metric-name>Custom Metrics|CF|cf|diego_brain|${DIEGO_BRAIN_GUID}|${DIEGO_BRAIN_IP}|opentsdb.nozzle.route_emitter.RouteEmitterSyncDuration</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>BBS Time to Run LRP Convergence</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>20</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>20.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{ConvergenceLRPDuration}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>ConvergenceLRPDuration</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.ConvergenceLRPDuration</logical-metric-name>
                            <metric-name>Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.ConvergenceLRPDuration</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>10.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{ConvergenceLRPDuration}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>ConvergenceLRPDuration</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.ConvergenceLRPDuration</logical-metric-name>
                            <metric-name>Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.ConvergenceLRPDuration</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>BBS Time to Handle Requests</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>20</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>10.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{RequestLatency}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>RequestLatency</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.RequestLatency</logical-metric-name>
                            <metric-name>Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.RequestLatency</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>5.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{RequestLatency}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>RequestLatency</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.RequestLatency</logical-metric-name>
                            <metric-name>Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.RequestLatency</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Cloud Controller and Diego in Sync</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.Domain.cf-apps</logical-metric-name>
                        <metric-name>Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.Domain.cf-apps</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>More App Instances Than Expected</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>10.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.LRPsExtra</logical-metric-name>
                        <metric-name>Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.LRPsExtra</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>5.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.LRPsExtra</logical-metric-name>
                        <metric-name>Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.LRPsExtra</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Fewer App Instances Than Expected</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>10.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.LRPsMissing</logical-metric-name>
                        <metric-name>Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.LRPsMissing</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>5.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.LRPsMissing</logical-metric-name>
                        <metric-name>Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.LRPsMissing</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Crashed App Instances</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>BASELINE_STANDARD_DEVIATION</condition-value-type>
                <condition-value>4.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>true</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.CrashedActualLRPs</logical-metric-name>
                        <metric-name>Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.CrashedActualLRPs</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>BASELINE_STANDARD_DEVIATION</condition-value-type>
                <condition-value>3.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>true</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.CrashedActualLRPs</logical-metric-name>
                        <metric-name>Custom Metrics|CF|cf|diego_database|${DIEGO_DATABASE_GUID}|${DIEGO_DATABASE_IP}|opentsdb.nozzle.bbs.CrashedActualLRPs</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Remaining Memory Available  Cell Memory Chunks Available</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>200.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/1024</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellZero</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellOne</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>RemainingMemoryCellTwo</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1024</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>300.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/1024</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellZero</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellOne</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>RemainingMemoryCellTwo</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1024</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Remaining Memory Available  Overall Remaining Memory Available</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>64.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/1024</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellZero</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellOne</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>RemainingMemoryCellTwo</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1024</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>32.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/1024</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellZero</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellOne</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>RemainingMemoryCellTwo</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</logical-metric-name>
                                <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingMemory</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1024</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Remaining Disk Available</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>4.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingDiskCellZero}+{RemainingDiskCellOne}+{RemainingDiskCellTwo})/1024</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingDiskCellZero</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingDiskCellOne</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>RemainingDiskCellTwo</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</logical-metric-name>
                                <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1024</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>8.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingDiskCellZero}+{RemainingDiskCellOne}+{RemainingDiskCellTwo})/1024</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingDiskCellZero</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingDiskCellOne</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>RemainingDiskCellTwo</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</logical-metric-name>
                                <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.CapacityRemainingDisk</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1024</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Cell Rep Time to Sync</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>20</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>10.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>({RepBulkSyncDurationCellZero}+{RepBulkSyncDurationCellOne}+{RepBulkSyncDurationCellTwo})/3/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>DIVIDE</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RepBulkSyncDurationCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.RepBulkSyncDuration</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.RepBulkSyncDuration</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RepBulkSyncDurationCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.RepBulkSyncDuration</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.RepBulkSyncDuration</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RepBulkSyncDurationCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.RepBulkSyncDuration</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.RepBulkSyncDuration</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <value>3</value>
                            <is-literal-expression>true</is-literal-expression>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>5.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>({RepBulkSyncDurationCellZero}+{RepBulkSyncDurationCellOne}+{RepBulkSyncDurationCellTwo})/3/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>DIVIDE</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RepBulkSyncDurationCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.RepBulkSyncDuration</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.RepBulkSyncDuration</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RepBulkSyncDurationCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.RepBulkSyncDuration</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.RepBulkSyncDuration</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RepBulkSyncDurationCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.RepBulkSyncDuration</logical-metric-name>
                                    <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.RepBulkSyncDuration</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <value>3</value>
                            <is-literal-expression>true</is-literal-expression>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Unhealthy Cells</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>({UnhealthyCellCellZero}+{UnhealthyCellCellOne}+{UnhealthyCellCellTwo})</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>PLUS</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>UnhealthyCellCellZero</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.UnhealthyCell</logical-metric-name>
                                <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_1_GUID}|${DIEGO_CELL_1_IP_0}|opentsdb.nozzle.rep.UnhealthyCell</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>UnhealthyCellCellOne</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.UnhealthyCell</logical-metric-name>
                                <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_0_GUID}|${DIEGO_CELL_0_IP_0}|opentsdb.nozzle.rep.UnhealthyCell</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>UnhealthyCellCellTwo</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.UnhealthyCell</logical-metric-name>
                            <metric-name>Custom Metrics|CF|cf|diego_cell|${DIEGO_CELL_2_GUID}|${DIEGO_CELL_2_IP_0}|opentsdb.nozzle.rep.UnhealthyCell</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Router Handling Latency</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>100.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|router|${ROUTER_GUID}|${ROUTER_IP}4|opentsdb.nozzle.gorouter.latency</logical-metric-name>
                        <metric-name>Custom Metrics|CF|cf|router|${ROUTER_GUID}|${ROUTER_IP}4|opentsdb.nozzle.gorouter.latency</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|router|${ROUTER_GUID}|${ROUTER_IP}4|opentsdb.nozzle.gorouter.latency</logical-metric-name>
                        <metric-name>Custom Metrics|CF|cf|router|${ROUTER_GUID}|${ROUTER_IP}4|opentsdb.nozzle.gorouter.latency</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>Time Since Last Route Register Received</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>30000.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|CF|cf|router|${ROUTER_GUID}|${ROUTER_IP}4|opentsdb.nozzle.gorouter.ms_since_last_registry_update</logical-metric-name>
                        <metric-name>Custom Metrics|CF|cf|router|${ROUTER_GUID}|${ROUTER_IP}4|opentsdb.nozzle.gorouter.ms_since_last_registry_update</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
</health-rules>
