<health-rules controller-version="004-004-003-004">
    <health-rule>
        <name>${TIER_NAME}-Diego Cell Memory Capacity</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>35.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>MULTIPLY</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>DIVIDE</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RemainingMemoryCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RemainingMemoryCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>TotalMemoryCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityTotalMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityTotalMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>TotalMemoryCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityTotalMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityTotalMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>TotalMemoryCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityTotalMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityTotalMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>100</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Cell Disk Capacity</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>35.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingDiskCellZero}+{RemainingDiskCellOne}+{RemainingDiskCellTwo})/({TotalDiskCellZero}+{TotalDiskCellOne}+{TotalDiskCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>MULTIPLY</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>DIVIDE</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RemainingDiskCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RemainingDiskCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingDiskCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>TotalDiskCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityTotalDisk</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityTotalDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>TotalDiskCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityTotalDisk</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityTotalDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>TotalDiskCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityTotalDisk</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityTotalDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>100</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Cell Container Capacity</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>35.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingContainerCellZero}+{RemainingContainerCellOne}+{RemainingContainerCellTwo})/({TotalContainerCellZero}+{TotalContainerCellOne}+{TotalContainerCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>MULTIPLY</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>DIVIDE</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RemainingContainerCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingContainers</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingContainers</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RemainingContainerCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingContainers</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingContainers</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingContainerCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingContainers</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingContainers</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>TotalContainerCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityTotalContainers</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityTotalContainers</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>TotalContainerCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityTotalContainers</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityTotalContainers</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>TotalContainerCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityTotalContainers</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityTotalContainers</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>100</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Router VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Auctioneer Time to Fetch Cell State</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>5.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{AuctioneerFetchStatesDuration}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>AuctioneerFetchStatesDuration</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Auctioneer Metrics|auctioneer|cf|diego_brain|e421ad82-5101-4079-ad5d-0a99c8eb2c86|192.168.16.34|auctioneer.AuctioneerFetchStatesDuration</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Auctioneer Metrics|auctioneer|cf|diego_brain|e421ad82-5101-4079-ad5d-0a99c8eb2c86|192.168.16.34|auctioneer.AuctioneerFetchStatesDuration</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>2.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{AuctioneerFetchStatesDuration}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>AuctioneerFetchStatesDuration</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Auctioneer Metrics|auctioneer|cf|diego_brain|e421ad82-5101-4079-ad5d-0a99c8eb2c86|192.168.16.34|auctioneer.AuctioneerFetchStatesDuration</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Auctioneer Metrics|auctioneer|cf|diego_brain|e421ad82-5101-4079-ad5d-0a99c8eb2c86|192.168.16.34|auctioneer.AuctioneerFetchStatesDuration</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Cell VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>1.0</condition-value>
                    <operator>LESS_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>1.0</condition-value>
                        <operator>LESS_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>1.0</condition-value>
                        <operator>LESS_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Cell VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>90.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>90.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>90.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>80.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>80.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>80.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Cell VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>90.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>90.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>90.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>80.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>80.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>80.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Cell VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>95.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>95.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>95.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>85.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>85.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>85.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Cell VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>90.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>90.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>90.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>boolean</type>
                <operator>OR</operator>
                <condition1>
                    <type>leaf</type>
                    <display-name>instance 0</display-name>
                    <condition-value-type>ABSOLUTE</condition-value-type>
                    <condition-value>80.0</condition-value>
                    <operator>GREATER_THAN</operator>
                    <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                    <use-active-baseline>false</use-active-baseline>
                    <trigger-on-no-data>false</trigger-on-no-data>
                    <metric-expression>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>null</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </metric-expression>
                </condition1>
                <condition2>
                    <type>boolean</type>
                    <operator>OR</operator>
                    <condition1>
                        <type>leaf</type>
                        <display-name>instance 1</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>80.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_1_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition1>
                    <condition2>
                        <type>leaf</type>
                        <display-name>instance 2</display-name>
                        <condition-value-type>ABSOLUTE</condition-value-type>
                        <condition-value>80.0</condition-value>
                        <operator>GREATER_THAN</operator>
                        <condition-expression/>
                        <use-active-baseline>false</use-active-baseline>
                        <trigger-on-no-data>false</trigger-on-no-data>
                        <metric-expression>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>null</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_cell|${DIEGO_CELL_2_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </metric-expression>
                    </condition2>
                </condition2>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Syslog Adapter VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Syslog Adapter VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Syslog Adapter VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Syslog Adapter VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Syslog Adapter VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Router VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Router VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Router VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Router VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|router|${ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Nats VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Nats VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Nats VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Nats VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Nats VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|nats|${NATS_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-MySql Proxy VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-MySql Proxy VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-MySql Proxy VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-MySql Proxy VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-MySql Proxy VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql_proxy|${MYSQL_PROXY_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-TCP Router VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-TCP Router VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-TCP Router VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-TCP Router VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-TCP Router VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-MySql VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-MySql VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-MySql VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-MySql VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-MySql VM Persistent Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-MySql VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|mysql|${MYSQL_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Loggregator Trafficcontroller VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Loggregator Trafficcontroller VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Loggregator Trafficcontroller VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Loggregator Trafficcontroller VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Loggregator Trafficcontroller VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|loggregator_trafficcontroller|${LOGGREGATOR_TRAFFICCONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Credhub VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Credhub VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Credhub VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Credhub VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Credhub VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|credhub|${CREDHUB_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Clock Global VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>70.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>60.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Clock Global VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Clock Global VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Clock Global VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Clock Global VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|clock_global|${CLOCK_GLOBAL_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Cloud Controller VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Cloud Controller VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Cloud Controller VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Cloud Controller VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Cloud Controller VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller|${CLOUD_CONTROLLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Cloud Controller Worker VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Cloud Controller Worker VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Cloud Controller Worker VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Cloud Controller Worker VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Cloud Controller Worker VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|cloud_controller_worker|${CLOUD_CONTROLLER_WORKER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Consul Server VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Consul Server VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Consul Server VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Consul Server VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_adapter|${SYSLOG_ADAPTER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Consul Server VM Persistent Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Consul Server VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|consul_server|${CONSUL_SERVER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Brain VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Brain VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Brain VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Brain VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Brain VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Database VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Database VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_brain|${DIEGO_BRAIN_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Database VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Database VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Diego Database VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|diego_database|${DIEGO_DATABASE_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Doppler VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Doppler VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Doppler VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Doppler VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Doppler VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|doppler|${DOPPLER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Syslog Scheduler VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Syslog Scheduler VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Syslog Scheduler VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Syslog Scheduler VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Syslog Scheduler VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|syslog_scheduler|${SYSLOG_SCHEDULER_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Uaa VM CPU Utilization</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>95.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>85.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.cpu.user</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Uaa VM Ephemeral Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.disk.ephemeral.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Uaa VM Health</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.healthy</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.healthy</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Uaa VM Memory Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>10</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.mem.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Uaa VM System Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|uaa|${UAA_0_GUID}|bosh-system-metrics-forwarder.system.disk.system.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-BBS Time to Run LRP Convergence</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>20</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>20.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{ConvergenceLRPDuration}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>ConvergenceLRPDuration</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.ConvergenceLRPDuration</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.ConvergenceLRPDuration</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>10.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{ConvergenceLRPDuration}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>ConvergenceLRPDuration</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.ConvergenceLRPDuration</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.ConvergenceLRPDuration</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-BBS Time to Handle Requests</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>20</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>10.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{RequestLatency}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>RequestLatency</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.RequestLatency</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.RequestLatency</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>5.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{RequestLatency}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>RequestLatency</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.RequestLatency</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.RequestLatency</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Cloud Controller and Diego in Sync</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.Domain.cf-apps</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.Domain.cf-apps</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-More App Instances Than Expected</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>10.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.LRPsExtra</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.LRPsExtra</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>5.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.LRPsExtra</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.LRPsExtra</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Fewer App Instances Than Expected</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>10.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.LRPsMissing</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.LRPsMissing</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>5.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.LRPsMissing</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.LRPsMissing</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Crashed App Instances</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>BASELINE_STANDARD_DEVIATION</condition-value-type>
                <condition-value>4.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>true</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.CrashedActualLRPs</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.CrashedActualLRPs</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>BASELINE_STANDARD_DEVIATION</condition-value-type>
                <condition-value>3.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>true</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.CrashedActualLRPs</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego BBS Metrics|bbs|cf|diego_database|${DIEGO_DATABASE_0_GUID}|192.168.16.18|bbs.CrashedActualLRPs</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Remaining Memory Available  Cell Memory Chunks Available</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>200.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/1024</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellZero</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellOne</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>RemainingMemoryCellTwo</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingMemory</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingMemory</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1024</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>300.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/1024</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellZero</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellOne</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>RemainingMemoryCellTwo</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingMemory</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingMemory</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1024</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Remaining Memory Available  Overall Remaining Memory Available</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>64.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/1024</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellZero</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellOne</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>RemainingMemoryCellTwo</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingMemory</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingMemory</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1024</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>32.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/1024</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellZero</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingMemoryCellOne</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingMemory</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingMemory</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>RemainingMemoryCellTwo</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingMemory</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingMemory</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1024</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Remaining Disk Available</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>4.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingDiskCellZero}+{RemainingDiskCellOne}+{RemainingDiskCellTwo})/1024</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingDiskCellZero</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingDiskCellOne</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>RemainingDiskCellTwo</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingDisk</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingDisk</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1024</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>8.0</condition-value>
                <operator>LESS_THAN</operator>
                <condition-expression>(({RemainingDiskCellZero}+{RemainingDiskCellOne}+{RemainingDiskCellTwo})/1024</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingDiskCellZero</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RemainingDiskCellOne</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingDisk</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.CapacityRemainingDisk</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>RemainingDiskCellTwo</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingDisk</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.CapacityRemainingDisk</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1024</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Cell Rep Time to Sync</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>20</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>10.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>({RepBulkSyncDurationCellZero}+{RepBulkSyncDurationCellOne}+{RepBulkSyncDurationCellTwo})/3/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>DIVIDE</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RepBulkSyncDurationCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.RepBulkSyncDuration</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.RepBulkSyncDuration</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RepBulkSyncDurationCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.RepBulkSyncDuration</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.RepBulkSyncDuration</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RepBulkSyncDurationCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.RepBulkSyncDuration</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.RepBulkSyncDuration</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <value>3</value>
                            <is-literal-expression>true</is-literal-expression>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>5.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>({RepBulkSyncDurationCellZero}+{RepBulkSyncDurationCellOne}+{RepBulkSyncDurationCellTwo})/3/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>DIVIDE</operator>
                        <expression1>
                            <type>boolean</type>
                            <operator>PLUS</operator>
                            <expression1>
                                <type>boolean</type>
                                <operator>PLUS</operator>
                                <expression1>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RepBulkSyncDurationCellZero</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.RepBulkSyncDuration</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.RepBulkSyncDuration</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression1>
                                <expression2>
                                    <type>leaf</type>
                                    <function-type>VALUE</function-type>
                                    <value>0</value>
                                    <is-literal-expression>false</is-literal-expression>
                                    <display-name>RepBulkSyncDurationCellOne</display-name>
                                    <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.RepBulkSyncDuration</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.RepBulkSyncDuration</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                    </metric-definition>
                                </expression2>
                            </expression1>
                            <expression2>
                                <type>leaf</type>
                                <function-type>VALUE</function-type>
                                <value>0</value>
                                <is-literal-expression>false</is-literal-expression>
                                <display-name>RepBulkSyncDurationCellTwo</display-name>
                                <metric-definition>
                                    <type>ABSOLUTE_METRIC_SCOPE</type>
                                    <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.RepBulkSyncDuration</logical-metric-name>
                                    <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.RepBulkSyncDuration</metric-name>
                                    <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                    </entity>
                                </metric-definition>
                            </expression2>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <value>3</value>
                            <is-literal-expression>true</is-literal-expression>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Unhealthy Cells</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>1.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>({UnhealthyCellCellZero}+{UnhealthyCellCellOne}+{UnhealthyCellCellTwo})</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>PLUS</operator>
                    <expression1>
                        <type>boolean</type>
                        <operator>PLUS</operator>
                        <expression1>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>UnhealthyCellCellZero</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.UnhealthyCell</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|rep.UnhealthyCell</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression1>
                        <expression2>
                            <type>leaf</type>
                            <function-type>VALUE</function-type>
                            <value>0</value>
                            <is-literal-expression>false</is-literal-expression>
                            <display-name>UnhealthyCellCellOne</display-name>
                            <metric-definition>
                                <type>ABSOLUTE_METRIC_SCOPE</type>
                                <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.UnhealthyCell</logical-metric-name>
                                <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_1_GUID}|192.168.16.37|rep.UnhealthyCell</metric-name>
                                <entity>
                                    <entity-type>APPLICATION_COMPONENT</entity-type>
                                    <application-component>${TIER_NAME}</application-component>
                                </entity>
                            </metric-definition>
                        </expression2>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>UnhealthyCellCellTwo</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.UnhealthyCell</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Cell Metrics|rep|cf|diego_cell|${DIEGO_CELL_2_GUID}|192.168.16.39|rep.UnhealthyCell</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Router Handling Latency</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>100.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Gorouter Metrics|gorouter|cf|router|${ROUTER_0_GUID}|192.168.16.28|gorouter.latency</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Gorouter Metrics|gorouter|cf|router|${ROUTER_0_GUID}|192.168.16.28|gorouter.latency</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Gorouter Metrics|gorouter|cf|router|${ROUTER_0_GUID}|192.168.16.28|gorouter.latency</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Gorouter Metrics|gorouter|cf|router|${ROUTER_0_GUID}|192.168.16.28|gorouter.latency</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Time Since Last Route Register Received</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>5</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>30000.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression/>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Gorouter Metrics|gorouter|cf|router|${ROUTER_0_GUID}|192.168.16.28|gorouter.ms_since_last_registry_update</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Gorouter Metrics|gorouter|cf|router|${ROUTER_0_GUID}|192.168.16.28|gorouter.ms_since_last_registry_update</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-TCP Router VM Persistent Disk Used</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>30</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>90.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>instance 0</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>80.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>(({RemainingMemoryCellZero}+{RemainingMemoryCellOne}+{RemainingMemoryCellTwo})/({TotalMemoryCellZero}+{TotalMemoryCellOne}+{TotalMemoryCellTwo}))*100</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>leaf</type>
                    <function-type>VALUE</function-type>
                    <value>0</value>
                    <is-literal-expression>false</is-literal-expression>
                    <display-name>null</display-name>
                    <metric-definition>
                        <type>ABSOLUTE_METRIC_SCOPE</type>
                        <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.persistent.percent</logical-metric-name>
                        <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|System (BOSH) Metrics|bosh-system-metrics-forwarder|${SYSTEM_METRICS_PARENT_FOLDER}|tcp_router|${TCP_ROUTER_0_GUID}|bosh-system-metrics-forwarder.system.disk.persistent.percent</metric-name>
                        <entity>
                            <entity-type>APPLICATION_COMPONENT</entity-type>
                            <application-component>${TIER_NAME}</application-component>
                        </entity>
                    </metric-definition>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
    <health-rule>
        <name>${TIER_NAME}-Route Emitter Time to Sync</name>
        <type>OTHER</type>
        <description/>
        <enabled>true</enabled>
        <is-default>false</is-default>
        <always-enabled>true</always-enabled>
        <duration-min>20</duration-min>
        <wait-time-min>30</wait-time-min>
        <affected-entities-match-criteria>
            <other-affected-entities-match-criteria>
                <entity>
                    <entity-type>APPLICATION</entity-type>
                </entity>
            </other-affected-entities-match-criteria>
        </affected-entities-match-criteria>
        <critical-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>10.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{RouteEmitterSyncDuration}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>RouteEmitterSyncDuration</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Route Emitter Metrics|route_emitter|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|route_emitter.RouteEmitterSyncDuration</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Route Emitter Metrics|route_emitter|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|route_emitter.RouteEmitterSyncDuration</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </critical-execution-criteria>
        <warning-execution-criteria>
            <entity-aggregation-scope>
                <type>ANY</type>
                <value>0</value>
            </entity-aggregation-scope>
            <policy-condition>
                <type>leaf</type>
                <display-name>condition 1</display-name>
                <condition-value-type>ABSOLUTE</condition-value-type>
                <condition-value>5.0</condition-value>
                <operator>GREATER_THAN</operator>
                <condition-expression>{RouteEmitterSyncDuration}/1000000000</condition-expression>
                <use-active-baseline>false</use-active-baseline>
                <trigger-on-no-data>false</trigger-on-no-data>
                <metric-expression>
                    <type>boolean</type>
                    <operator>DIVIDE</operator>
                    <expression1>
                        <type>leaf</type>
                        <function-type>VALUE</function-type>
                        <value>0</value>
                        <is-literal-expression>false</is-literal-expression>
                        <display-name>RouteEmitterSyncDuration</display-name>
                        <metric-definition>
                            <type>ABSOLUTE_METRIC_SCOPE</type>
                            <logical-metric-name>Application Infrastructure Performance|${TIER_NAME}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Route Emitter Metrics|route_emitter|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|route_emitter.RouteEmitterSyncDuration</logical-metric-name>
                            <metric-name>Server|Component:${TIER_ID}|Custom Metrics|PCF Firehose|${SERVER_NAME}|Diego Route Emitter Metrics|route_emitter|cf|diego_cell|${DIEGO_CELL_0_GUID}|192.168.16.41|route_emitter.RouteEmitterSyncDuration</metric-name>
                            <entity>
                                <entity-type>APPLICATION_COMPONENT</entity-type>
                                <application-component>${TIER_NAME}</application-component>
                            </entity>
                        </metric-definition>
                    </expression1>
                    <expression2>
                        <type>leaf</type>
                        <value>1000000000</value>
                        <is-literal-expression>true</is-literal-expression>
                    </expression2>
                </metric-expression>
            </policy-condition>
        </warning-execution-criteria>
    </health-rule>
</health-rules>
